<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wochen-Speiseplan</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/navbar-static/navbar.css">
<script src="/navbar-static/navbar.js"></script>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="navigation">
            <div class="week-controls">
                <button id="prevWeek">Vorherige Woche</button>
                <div class="week-info">
                    <span id="currentWeek">KW </span>
                    <span id="currentDate"></span>
                </div>
                <button id="nextWeek">Nächste Woche</button>
            </div>
        </nav>

        <!-- Bewohner-Auswahl -->
        <div class="residents-container">
            <h2>Bewohner auswählen</h2>
            <div id="residentButtons" class="resident-buttons"></div>
        </div>

        <!-- Resident Info - jetzt außerhalb des meal-plan -->
        <div id="selectedResident" class="selected-resident"></div>

        <!-- Speiseplan -->
        <div class="meal-plan">
            <!-- Button zum Verwalten der Extra-Kategorien -->
            <!-- Der Button wird jetzt per JavaScript erzeugt und in die Week-Controls eingefügt -->
            
            <table id="mealTable">
                <thead>
                    <tr>
                        <th>Kategorie</th>
                        <th>Montag</th>
                        <th>Dienstag</th>
                        <th>Mittwoch</th>
                        <th>Donnerstag</th>
                        <th>Freitag</th>
                        <th>Samstag</th>
                        <th>Sonntag</th>
                    </tr>
                </thead>
                <tbody id="mealTableBody"></tbody>
            </table>
        </div>
        
        <!-- Dialog zum Hinzufügen einer neuen Kategorie -->
        <div id="categoryDialog" class="category-dialog">
            <h3>Neue Abendessen-Kategorie hinzufügen</h3>
            <div class="category-dialog-form">
                <input type="text" id="categoryNameInput" class="category-input" placeholder="Name der Kategorie">
                <input type="text" id="categoryIdInput" class="category-input" placeholder="ID (z.B. salamiBrot)" pattern="[a-zA-Z0-9]+" title="Nur Buchstaben und Zahlen erlaubt">
                <div class="category-dialog-buttons">
                    <button id="cancelCategoryBtn" class="category-dialog-button cancel">Abbrechen</button>
                    <button id="saveCategoryBtn" class="category-dialog-button save">Speichern</button>
                </div>
            </div>
        </div>
        
        <!-- Kategorie-Manager -->
        <div id="categoryManager" class="category-manager">
            <h3>Abendessen-Kategorien verwalten</h3>
            <div id="categoriesList" class="categories-list">
                <!-- Wird dynamisch gefüllt -->
            </div>
            <div class="category-manager-buttons">
                <button id="addCategoryBtn" class="add-category-btn">Neue Kategorie</button>
                <button id="closeCategoryManagerBtn" class="category-dialog-button cancel">Schließen</button>
            </div>
        </div>
        
        <!-- Overlay für Dialoge -->
        <div id="overlay" class="overlay"></div>
    </div>

    <script type="module" src="js/script.js"></script>
</body>
</html>
